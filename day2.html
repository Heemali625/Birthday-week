<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Day 2 â€” Polaroid Memories</title>

<style>
* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: #05060c;
  font-family: 'Segoe UI', sans-serif;
}

.stage {
  position: relative;
  width: 100%;
  height: 100svh;
  overflow: hidden;
}

/* TAP OVERLAY */
#startOverlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}
#startOverlay span {
  color: #ffd6e6;
  font-size: 22px;
  animation: pulse 2s infinite;
}
@keyframes pulse {
  0%{opacity:.5}50%{opacity:1}100%{opacity:.5}
}

/* BACKGROUND */
.background { position:absolute; inset:0; z-index:1; }
.bg {
  position:absolute; inset:0; opacity:0;
  animation: bgSlide 60s infinite;
}
.bg img { width:100%; height:100%; object-fit:cover; }
.bg:nth-child(1){animation-delay:0s}
.bg:nth-child(2){animation-delay:12s}
.bg:nth-child(3){animation-delay:24s}
.bg:nth-child(4){animation-delay:36s}
.bg:nth-child(5){animation-delay:48s}
@keyframes bgSlide {
  0%{opacity:0}10%{opacity:1}35%{opacity:1}45%{opacity:0}100%{opacity:0}
}
.background::after {
  content:''; position:absolute; inset:0;
  background:rgba(0,0,0,.55);
}

/* LYRICS */
#lyricsBox {
  position:absolute;
  top:30%;
  left:50%;
  transform:translateX(-50%);
  max-width:90%;
  text-align:center;
  font-size:clamp(25px,4vw,26px);
  color:#ffe6f0;
  line-height:1.6;
  opacity:0;
  transition:opacity .3s ease;
  z-index:3;
  pointer-events:none;
}

/* POLAROIDS */
.polaroid-wrap {
  position:absolute;
  bottom:6%;
  display:flex;
  gap:32px;
  animation:slide 80s linear infinite;
  z-index:4;
  width:max-content;
}
@keyframes slide {
  from{transform:translateX(0)}
  to{transform:translateX(-50%)}
}
.polaroid {
  width:200px;
  background:#fff;
  padding:12px 12px 30px;
  box-shadow:0 20px 40px rgba(0,0,0,.6);
  transform:rotate(var(--r));
}
.polaroid img {
  width:100%;
  height:260px;
  object-fit:cover;
}
.polaroid:nth-child(odd){--r:-5deg}
.polaroid:nth-child(even){--r:4deg}

audio{display:none}
</style>
</head>

<body>

<div class="stage">

<div id="startOverlay"><span>Tap to begin ðŸ’—</span></div>

<div class="background">
  <div class="bg"><img src="assets/day2/bg1.jpg"></div>
  <div class="bg"><img src="assets/day2/bg2.jpg"></div>
  <div class="bg"><img src="assets/day2/bg3.jpg"></div>
  <div class="bg"><img src="assets/day2/bg4.jpg"></div>
  <div class="bg"><img src="assets/day2/bg5.jpg"></div>
</div>

<div id="lyricsBox"></div>

<div class="polaroid-wrap">
  <div class="polaroid"><img src="assets/day2/p1.jpeg"></div>
  <div class="polaroid"><img src="assets/day2/p2.jpeg"></div>
  <div class="polaroid"><img src="assets/day2/p3.jpeg"></div>
  <div class="polaroid"><img src="assets/day2/p4.jpeg"></div>
  <div class="polaroid"><img src="assets/day2/p5.jpeg"></div>

  <div class="polaroid"><img src="assets/day2/p1.jpeg"></div>
  <div class="polaroid"><img src="assets/day2/p2.jpeg"></div>
  <div class="polaroid"><img src="assets/day2/p3.jpeg"></div>
  <div class="polaroid"><img src="assets/day2/p4.jpeg"></div>
  <div class="polaroid"><img src="assets/day2/p5.jpeg"></div>
</div>

<audio id="bgMusic">
  <source src="assets/day2/dekho-dekho-jaanam-koshalworldcom-lofi_GC87q1Xw.wav" type="audio/wav">
</audio>

</div>

<script>
const overlay = document.getElementById('startOverlay');
const music = document.getElementById('bgMusic');
const box = document.getElementById('lyricsBox');

/* ðŸŽ¼ MUSIC-CALIBRATED LYRIC TIMELINE (ms) */
const lyrics = [
  [800,   "Dekho dekho jaanam hum dil apna tere liye laaye ðŸ’—"],
  [5200,  "Socho socho duniya me kyun aaye,ðŸ˜"],
  [9000,  "tere liye aaye ðŸ’˜"],
  [13600, "Abb tu hamein chahe ðŸ˜Œ"],
  [16800, "abb tu hamein bhoole ðŸ¤§"],
  [20500, "hum toh bane rahenge tere saaye ðŸ™†â€â™€ï¸"],

  /* repeat section */
  [28500, "Dekho dekho jaanam hum dil apna tere liye laaye ðŸ’—"],
  [33500, "Socho socho duniya me kyun aaye, tere liye aaye ðŸ’˜"]
];

let timers = [];

function clearLyrics() {
  timers.forEach(t => clearTimeout(t));
  timers = [];
}

function playLyrics() {
  clearLyrics();
  box.style.opacity = 0;

  lyrics.forEach(([time, text]) => {
    const t = setTimeout(() => {
      box.style.opacity = 0;
      setTimeout(() => {
        box.textContent = text;
        box.style.opacity = 1;
      }, 80); // natural transition
    }, time);
    timers.push(t);
  });
}

overlay.onclick = () => {
  overlay.style.display = 'none';
  music.currentTime = 0;
  music.play();
  playLyrics();
};

music.addEventListener('ended', () => {
  music.currentTime = 0;
  music.play();
  playLyrics();
});
</script>

</body>
</html>
